<div class="d-flex mb-3">
    <h2>Relevant Projects</h2>
    <div>
        <button class="add-button" [hidden]="!skillSetAdminService.selectedSkillSetItemId"  (click)="addCategory()">
            <fa-icon [icon]="faCirclePlus"/>
        </button>
    </div>
</div>
<div class="d-flex">
    <button class="btn btn-primary"
     [id]="category.id" 
     *ngFor="let category of relevantProjects let index=index"
     type="button"
     data-bs-toggle="offcanvas"
     (click)="selectRelevantProject(index)"
     data-bs-target="#editrelevantprojects" aria-controls="editrelevantprojects">{{category.name}}</button>
     <button #offCanvas1Button type="button" data-bs-toggle="offcanvas" data-bs-target="#editrelevantprojects" aria-controls="editrelevantprojects" hidden></button>

<div class="offcanvas offcanvas-end" tabindex="-1" id="editrelevantprojects" aria-labelledby="offcanvasLabel">
    <div class="offcanvas-header">
        <h5 class="offcanvas-title" id="offcanvasLabel">Edit selected relevant project</h5>
        <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <div class="offcanvas-body">
        <form #form="ngForm" (ngSubmit)="saveOrUpdateRelevantProject()">
            <div>
                <p class="text-start" *ngIf="selectedRelevantProject.id">id: {{selectedRelevantProject.id}}</p>
                <div class="input-group mb-3">
                    <span class="input-group-text">Project Name</span>
                    <input type="text" class="form-control" placeholder="Project Name" name="name" [(ngModel)]="selectedRelevantProject.name" required>
                </div>
                <div class="input-group mb-3">
                    <span class="input-group-text">Project Url</span>
                    <input type="text" class="form-control" placeholder="Project Url" name="url" [(ngModel)]="selectedRelevantProject.url" required
                        pattern="(https:\/\/www\.|http:\/\/www\.|https:\/\/|http:\/\/)?[a-zA-Z]{2,}(\.[a-zA-Z]{2,})(\.[a-zA-Z]{2,})?\/[a-zA-Z0-9]{2,}|((https:\/\/www\.|http:\/\/www\.|https:\/\/|http:\/\/)?[a-zA-Z]{2,}(\.[a-zA-Z]{2,})(\.[a-zA-Z]{2,})?)|(https:\/\/www\.|http:\/\/www\.|https:\/\/|http:\/\/)?[a-zA-Z0-9]{2,}\.[a-zA-Z0-9]{2,}\.[a-zA-Z0-9]{2,}(\.[a-zA-Z0-9]{2,})?">
                </div>
            </div>
            <div>
                <button class="save-button mb-3" data-bs-dismiss="offcanvas" [disabled]="!form.valid">{{selectedRelevantProject.id? 'Update':'Save'}}</button>
                <button class="delete-button" data-bs-dismiss="offcanvas" type="button" *ngIf="selectedRelevantProject.id" (click)="deleteRelevantProject(selectedRelevantProject.id)">Delete</button>
            </div>
        </form>
    </div>
</div>